dist: bionic
language: node_js
node_js:
  - 8

before_install:
  - mkdir .tmp
  - cd .tmp
  - bash <(curl -fsSL https://raw.githubusercontent.com/tboox/xmake/master/scripts/get.sh)
  - source ~/.xmake/profile
  - wget https://github.com/lc-soft/LCUI/archive/develop.zip -O LCUI-develop.zip
  - unzip LCUI-develop.zip
  - rm LCUI-develop.zip
  - cd LCUI-develop
  - sh ./autogen.sh
  - ./configure
  - make
  - sudo make install
  - cd ../..
  - rm -rf .tmp

before_script:
  - npm install
  - npm install -g mocha
  - npm install --save-dev @commitlint/travis-cli
  - export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/lib

script:
  - commitlint-travis
  - npm test
